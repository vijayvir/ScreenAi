# =====================================================
# ScreenAI Server - Environment Configuration
# =====================================================
# Copy this file to .env and fill in your values
# NEVER commit .env to version control!
# =====================================================

# =====================================================
# SERVER CONFIGURATION
# =====================================================
SERVER_PORT=8080
SPRING_PROFILES_ACTIVE=dev

# =====================================================
# DATABASE CONFIGURATION (H2 for dev, PostgreSQL for prod)
# =====================================================
# For H2 (Development)
DATABASE_URL=r2dbc:h2:mem:///screenai_db;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE
DB_USERNAME=sa
DB_PASSWORD=

# For PostgreSQL (Production) - uncomment when ready
# DATABASE_URL=r2dbc:postgresql://localhost:5432/screenai_db
# DB_USERNAME=screenai
# DB_PASSWORD=your_secure_db_password

# H2 Console (disable in production!)
H2_CONSOLE_ENABLED=true

# =====================================================
# SECURITY - SECRETS (CRITICAL - CHANGE IN PRODUCTION!)
# =====================================================
# JWT Secret - MUST be at least 256 bits (32 characters) for HS256
# Generate with: openssl rand -base64 32
JWT_SECRET=your-production-secret-key-at-least-256-bits-long-change-me

# Default admin credentials (REQUIRED for admin bootstrap â€” leave ADMIN_PASSWORD blank to skip)
ADMIN_USERNAME=admin
ADMIN_PASSWORD=

# =====================================================
# JWT TOKEN SETTINGS
# =====================================================
# Access token expiration in milliseconds (default: 15 minutes)
ACCESS_TOKEN_EXPIRATION=900000
# Refresh token expiration in milliseconds (default: 7 days)
REFRESH_TOKEN_EXPIRATION=604800000
# Token issuer
JWT_ISSUER=ScreenAI

# =====================================================
# PASSWORD POLICY
# =====================================================
PASSWORD_MIN_LENGTH=8
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_LOWERCASE=true
PASSWORD_REQUIRE_DIGIT=true
PASSWORD_REQUIRE_SPECIAL=true

# =====================================================
# SECURITY - LOCKOUT & RATE LIMITS
# =====================================================
LOCKOUT_MAX_ATTEMPTS=5
LOCKOUT_DURATION_MINUTES=15
RATE_LIMIT_MESSAGES_PER_SECOND=100
RATE_LIMIT_ROOM_CREATIONS_PER_HOUR=10
RATE_LIMIT_FAILED_AUTH_BEFORE_BLOCK=5
IP_BLOCK_DURATION_MINUTES=15

# =====================================================
# RESOURCE LIMITS
# =====================================================
MAX_ACTIVE_ROOMS=100
MAX_VIEWERS_PER_ROOM=50
MAX_ROOMS_PER_USER=5
MAX_BINARY_MESSAGE_SIZE=10485760

# =====================================================
# ROOM SETTINGS
# =====================================================
ROOM_ACCESS_CODE_EXPIRATION_HOURS=24
ROOM_IDLE_TIMEOUT_MINUTES=60

# =====================================================
# CORS CONFIGURATION
# =====================================================
# Comma-separated list of allowed origins
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8080,https://localhost:8443

# =====================================================
# NETWORK TIMEOUTS
# =====================================================
CONNECTION_TIMEOUT=60s
IDLE_TIMEOUT=600s

# =====================================================
# LOGGING
# =====================================================
LOG_LEVEL_ROOT=INFO
LOG_LEVEL_SCREENAI=INFO
LOG_LEVEL_SECURITY=DEBUG
